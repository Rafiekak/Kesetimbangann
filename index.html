<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Simulator Kesetimbangan Jeep</title>
<style>
  body {
    margin: 0;
    background: skyblue;
    font-family: Arial;
  }
  canvas {
    display: block;
  }
  .panel {
    position: absolute;
    top: 10px;
    right: 10px;
    background: rgba(255,255,255,0.9);
    padding: 10px;
    border-radius: 8px;
  }
</style>
</head>
<body>

<canvas id="sim" width="900" height="500"></canvas>

<div class="panel">
  <b>Kontrol</b><br><br>
  Massa Jeep: <span id="massaVal">1000</span> kg<br>
  <input type="range" id="massa" min="500" max="2000" value="1000"><br><br>
  ‚û°Ô∏è Kanan | ‚¨ÖÔ∏è Kiri<br>
  ‚è∏Ô∏è Space = Stop<br>
  üîÑ R = Reset
</div>

<script>
const canvas = document.getElementById("sim");
const ctx = canvas.getContext("2d");

// Fisika
const g = 9.8;
const mu = 0.7;

let m = 1000;
let x0 = 100, y0 = 300;
let x = x0, y = y0;
let v = 0;

// Slider massa
const massaSlider = document.getElementById("massa");
const massaVal = document.getElementById("massaVal");

massaSlider.oninput = function () {
  m = Number(this.value);
  massaVal.innerText = m;
};

// ===== KEYBOARD =====
document.addEventListener("keydown", e => {
  if (e.key === "ArrowRight") v = 2;
  if (e.key === "ArrowLeft") v = -2;
  if (e.key === " ") v = 0;
  if (e.key === "r" || e.key === "R") reset();
});

// Reset
function reset() {
  x = x0;
  v = 0;
}

// ===== BACKGROUND =====
function drawBackground() {
  // Dataran hijau
  ctx.fillStyle = "#3CB371";
  ctx.fillRect(0, 350, 900, 150);

  // Jalan aspal
  ctx.fillStyle = "#555";
  ctx.fillRect(0, 300, 900, 50);

  // Garis jalan
  ctx.strokeStyle = "white";
  ctx.setLineDash([20, 15]);
  ctx.beginPath();
  ctx.moveTo(0, 325);
  ctx.lineTo(900, 325);
  ctx.stroke();
  ctx.setLineDash([]);
}

// ===== JEEP =====
function drawJeep() {
  // Badan
  ctx.fillStyle = "#2E8B57";
  ctx.fillRect(x, y - 35, 90, 35);

  // Atap
  ctx.fillStyle = "#1F4F3A";
  ctx.fillRect(x + 15, y - 60, 40, 25);

  // Kaca
  ctx.fillStyle = "#ADD8E6";
  ctx.fillRect(x + 20, y - 55, 30, 20);

  // Roda
  ctx.beginPath();
  ctx.arc(x + 20, y, 12, 0, Math.PI * 2);
  ctx.arc(x + 70, y, 12, 0, Math.PI * 2);
  ctx.fillStyle = "black";
  ctx.fill();
}

// ===== INFO =====
function drawText() {
  const N = m * g;
  const Fg = mu * N;

  ctx.fillStyle = "black";
  ctx.font = "16px Arial";
  ctx.fillText("SIMULATOR KESETIMBANGAN JEEP (DATARAN LURUS)", 20, 30);
  ctx.fillText("Massa: " + m + " kg", 20, 55);
  ctx.fillText("Gaya Normal: " + N.toFixed(1) + " N", 20, 80);
  ctx.fillText("Gaya Gesek Maks: " + Fg.toFixed(1) + " N", 20, 105);
}

// ===== UPDATE =====
function update() {
  x += v;

  // Batas layar
  if (x < 0) x = 0;
